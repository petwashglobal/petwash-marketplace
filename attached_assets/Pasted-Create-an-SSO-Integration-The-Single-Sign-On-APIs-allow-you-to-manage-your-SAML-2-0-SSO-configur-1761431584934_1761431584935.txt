Create an SSO Integration




The Single Sign-On APIs allow you to manage your SAML 2.0 SSO configurations. You can also work with your SSO integrations using the SSO section of the Twilio SendGrid App

.

The Single Sign-On Settings API allows you to create, retrieve, modify, and delete SSO integrations for your Twilio SendGrid account. Each integration will correspond to a specific IdP such as Okta, Duo, or Microsoft Azure Active Directory.

Operation overview





POST/v3/sso/integrations

Base url: https://api.sendgrid.com (for global users and subusers)

Base url: https://api.eu.sendgrid.com (for EU regional subusers)

This endpoint allows you to create an SSO integration.

Operation details





Authentication






API Key
Headers





Property nameTypeRequiredDescription
Authorization
string
required
Default:
Bearer <<YOUR_API_KEY_HERE>>
Request body





Encoding type:application/json
Schema
Property nameTypeRequiredDescriptionChild properties
name
string
required
The name of your integration. This name can be anything that makes sense for your organization (eg. Twilio SendGrid)

enabled
boolean
required
Indicates if the integration is enabled.

signin_url
string
required
The IdP's SAML POST endpoint. This endpoint should receive requests and initiate an SSO login flow. This is called the "Embed Link" in the Twilio SendGrid UI.

signout_url
string
required
This URL is relevant only for an IdP-initiated authentication flow. If a user authenticates from their IdP, this URL will return them to their IdP when logging out.

entity_id
string
required
An identifier provided by your IdP to identify Twilio SendGrid in the SAML interaction. This is called the "SAML Issuer ID" in the Twilio SendGrid UI.

completed_integration
boolean
Optional
Indicates if the integration is complete.

Responses






200

400

401

403

429

500
Schema
Example
Property nameTypeRequiredDescriptionChild properties
name
string
Optional
The name of your integration. This name can be anything that makes sense for your organization (eg. Twilio SendGrid)

enabled
boolean
Optional
Indicates if the integration is enabled.

signin_url
string
Optional
The IdP's SAML POST endpoint. This endpoint should receive requests and initiate an SSO login flow. This is called the "Embed Link" in the Twilio SendGrid UI.

signout_url
string
Optional
This URL is relevant only for an IdP-initiated authentication flow. If a user authenticates from their IdP, this URL will return them to their IdP when logging out.

entity_id
string
Optional
An identifier provided by your IdP to identify Twilio SendGrid in the SAML interaction. This is called the "SAML Issuer ID" in the Twilio SendGrid UI.

completed_integration
boolean
Optional
Indicates if the integration is complete.

last_updated
number
Optional
A timestamp representing the last time the configuration was modified.

id
string
Optional
A unique ID assigned to the configuration by SendGrid.

single_signon_url
string
Optional
The URL where your IdP should POST its SAML response. This is the Twilio SendGrid URL that is responsible for receiving and parsing a SAML assertion. This is the same URL as the Audience URL when using SendGrid.

audience_url
string
Optional
The URL where your IdP should POST its SAML response. This is the Twilio SendGrid URL that is responsible for receiving and parsing a SAML assertion. This is the same URL as the Single Sign-On URL when using SendGrid.

Create an SSO Integration





Report code block


Copy code block
const client = require("@sendgrid/client");
client.setApiKey(process.env.SENDGRID_API_KEY);

const data = {
  name: "Miss Christine Morgan",
  enabled: false,
  signin_url: "https://www.example.com",
  signout_url: "https://www.example.com",
  entity_id: "entity_id",
};

const request = {
  url: `/v3/sso/integrations`,
  method: "POST",
  body: data,
};

client
  .request(request)
  .then(([response, body]) => {
    console.log(response.statusCode);
    console.log(response.body);
  })
  .catch((error) => {
    console.error(error);
  });
